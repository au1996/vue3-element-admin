import{a4 as e,a5 as a,a6 as s,b as l,g as o,Y as r,W as u,c as n,a as t,$ as d,M as i,z as p,I as c,a7 as m,K as v}from"./vue.4d80af16.js";import{S as g}from"./element-plus.02b112bc.js";import{s as f,a as b}from"./index.29f51e5f.js";import{u as y}from"./user.81656520.js";const w=m();e("data-v-1ac4b3da");const _={class:"login-wrap"},k={class:"login-content"},V=t("div",{class:"login-title"},"系统登录",-1),h=t("i",{class:"el-icon-s-custom"},null,-1),j={class:"login-btn"},x=v("登录"),C=t("p",{class:"login-tips"},"用户名: admin 密码: 123",-1),K=t("p",{class:"login-tips"},"用户名: editor 密码: 456",-1);a();const q={expose:[],setup(e){const a=s(),m=l(!1),v=l(null),q=l(!0),I=l("password"),U=o({username:"",password:""}),z=o({username:[{required:!0,message:"请输入用户名",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}]}),M=()=>{q.value?I.value="text":I.value="password",q.value=!q.value},S=async()=>{v.value.validate((e=>{e?(m.value=!0,y(U).then((e=>{e.token?(f(e.token),b(e.role),a.push("/"),g({type:"success",message:e.message})):g.error(e.message)})).finally((()=>{m.value=!1}))):g.error("请输入用户名和密码")}))};return(e,a)=>{const s=r("el-input"),l=r("el-form-item"),o=r("el-button"),g=r("el-form");return u(),n("div",_,[t("div",k,[V,t(g,{ref:v,class:"login-form",model:d(U),rules:d(z),"status-icon":""},{default:w((()=>[t(l,{prop:"username"},{default:w((()=>[t(s,{modelValue:d(U).username,"onUpdate:modelValue":a[1]||(a[1]=e=>d(U).username=e),placeholder:"用户名"},{prepend:w((()=>[h])),_:1},8,["modelValue"])])),_:1}),t(l,{prop:"password"},{default:w((()=>[t(s,{modelValue:d(U).password,"onUpdate:modelValue":a[2]||(a[2]=e=>d(U).password=e),placeholder:"密码",type:I.value,onKeyup:i(S,["enter"])},{prepend:w((()=>[p(t("i",{class:"el-icon-lock",onClick:M},null,512),[[c,q.value]]),p(t("i",{class:"el-icon-unlock",onClick:M},null,512),[[c,!q.value]])])),_:1},8,["modelValue","type","onKeyup"])])),_:1}),t("div",j,[t(o,{type:"primary",loading:m.value,onClick:S},{default:w((()=>[x])),_:1},8,["loading"])]),C,K])),_:1},8,["model","rules"])])])}},__scopeId:"data-v-1ac4b3da"};export default q;
