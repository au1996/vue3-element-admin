import{a4 as e,a5 as a,b as l,g as s,y as o,o as r,c as u,a as n,$ as t,R as d,G as i,N as p,a6 as c,a7 as m,P as v,a8 as f}from"./vue.4b0dfa6f.js";import{S as g}from"./element-plus.dbd61022.js";const y=c();m("data-v-def67f20");const w={class:"login-wrap"},_={class:"login-content"},b=n("div",{class:"login-title"},"系统登录",-1),V=n("i",{class:"el-icon-s-custom"},null,-1),h={class:"login-btn"},k=v("登录"),x=n("p",{class:"login-tips"},"用户名: admin 密码: 123",-1),C=n("p",{class:"login-tips"},"用户名: editor 密码: 456",-1);f();const j={expose:[],setup(c){const m=e(),v=a(),f=l(!1),j=l(null),q=l(!0),K=l("password"),U=s({username:"",password:""}),G=s({username:[{required:!0,message:"请输入用户名",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}]}),I=()=>{q.value?K.value="text":K.value="password",q.value=!q.value},N=async()=>{j.value.validate((e=>{e?(f.value=!0,v.dispatch("user/login",U).then((()=>{m.push("/")})).finally((()=>{f.value=!1}))):g.error("请输入用户名和密码")}))};return(e,a)=>{const l=o("el-input"),s=o("el-form-item"),c=o("el-button"),m=o("el-form");return r(),u("div",w,[n("div",_,[b,n(m,{ref:j,class:"login-form",model:t(U),rules:t(G),"status-icon":""},{default:y((()=>[n(s,{prop:"username"},{default:y((()=>[n(l,{modelValue:t(U).username,"onUpdate:modelValue":a[1]||(a[1]=e=>t(U).username=e),placeholder:"用户名"},{prepend:y((()=>[V])),_:1},8,["modelValue"])])),_:1}),n(s,{prop:"password"},{default:y((()=>[n(l,{modelValue:t(U).password,"onUpdate:modelValue":a[2]||(a[2]=e=>t(U).password=e),placeholder:"密码",type:K.value,onKeyup:d(N,["enter"])},{prepend:y((()=>[i(n("i",{class:"el-icon-lock",onClick:I},null,512),[[p,q.value]]),i(n("i",{class:"el-icon-unlock",onClick:I},null,512),[[p,!q.value]])])),_:1},8,["modelValue","type","onKeyup"])])),_:1}),n("div",h,[n(c,{type:"primary",loading:f.value,onClick:N},{default:y((()=>[k])),_:1},8,["loading"])]),x,C])),_:1},8,["model","rules"])])])}},__scopeId:"data-v-def67f20"};export{j as default};
