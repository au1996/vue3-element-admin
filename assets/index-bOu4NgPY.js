import{r as F,Q as w,v as K,a7 as y,af as x,h as m,i as l,j as v,H as f,M as o,G as a,K as i,E as p,L as B,N as O,u as P,F as A,a1 as M,a9 as Q,I as $}from"./vue-DMw5Nt_d.js";import{_ as k,a as Y,b as J,d as X,u as Z,e as ee}from"./index-Cb3KccKq.js";import{b as le,E as te}from"./element-plus-7YaSf0MG.js";import"./axios-B7hLYxo8.js";const ue=function(r,e){if(e=e||"yyyy-MM-dd hh:mm:ss",r===null||typeof r>"u"||r==="")return null;r=new Date(r);var t={"M+":r.getMonth()+1,"d+":r.getDate(),"h+":r.getHours(),"m+":r.getMinutes(),"s+":r.getSeconds(),"q+":Math.floor((r.getMonth()+3)/3),S:r.getMilliseconds()};/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(r.getFullYear()+"").substr(4-RegExp.$1.length)));for(var c in t)new RegExp("("+c+")").test(e)&&(e=e.replace(RegExp.$1,RegExp.$1.length===1?t[c]:("00"+t[c]).substr((""+t[c]).length)));return e},ae={class:"user-manage-view"},ne={class:"header-box"},oe=["src"],se={class:"dialog-footer"},re={__name:"User",setup(r){const e=F(1),t=F(!1),c=F(!1),u=F(!1),E=F(null),d=w([]),n=w([]),b=w({username:"",password:"",role:"",email:"",introduction:""});K(()=>{L(),U()});const L=()=>{c.value=!0,Y().then(g=>{n.length=0,n.push(...g.list)}).finally(()=>{c.value=!1})},U=()=>{d.length||J().then(g=>{d.push(...g.list)})},T=g=>{let _=g;return d.forEach(h=>{h.id===g&&(_=h.name)}),_},R=(g,_)=>{if(t.value=!0,e.value=g,g===2)for(const h in _)b[h]=_[h];else for(const h in b)b[h]=""},z=()=>{u.value=!0,e.value===2?Z({...b}).then(()=>{L(),t.value=!1}).finally(()=>{u.value=!1}):ee({...b}).then(()=>{L(),t.value=!1}).finally(()=>{u.value=!1})},I=g=>{le.confirm(`确定删除 ${g.username} ？`,"提示",{confirmButtonText:"确认",cancelButtonText:"取消",type:"warning"}).then(()=>{X(g.username).then(()=>{const _=n.findIndex(h=>h.username===g.username);n.splice(_,1),te({type:"success",message:"删除成功"})})}).catch(()=>{})};return(g,_)=>{const h=y("el-button"),D=y("el-table-column"),S=y("el-table"),C=y("el-input"),V=y("el-form-item"),j=y("el-option"),H=y("el-select"),W=y("el-form"),q=y("el-dialog"),N=x("loading");return l(),m("div",ae,[v("div",ne,[o(h,{type:"primary",onClick:R},{default:a(()=>[i("添加用户")]),_:1})]),f((l(),p(S,{border:"",data:n},{default:a(()=>[o(D,{prop:"username",label:"账号"}),o(D,{prop:"password",label:"密码"}),o(D,{prop:"role",label:"角色"},{default:a(({row:s})=>[i(B(T(s.role)),1)]),_:1}),o(D,{prop:"email",label:"邮箱","min-width":"120"}),o(D,{prop:"introduction",label:"介绍"}),o(D,{prop:"avatar",label:"头像"},{default:a(({row:s})=>[f(v("img",{src:s.avatar,width:"40",height:"40"},null,8,oe),[[O,s.avatar]])]),_:1}),o(D,{prop:"createTime",label:"创建时间","min-width":"160"},{default:a(({row:s})=>[i(B(P(ue)(s.createTime)),1)]),_:1}),o(D,{label:"操作",width:"200"},{default:a(({row:s})=>[o(h,{type:"primary",size:"small",onClick:G=>R(2,s)},{default:a(()=>[i("修改")]),_:2},1032,["onClick"]),o(h,{type:"danger",size:"small",onClick:G=>I(s)},{default:a(()=>[i("删除")]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"])),[[N,c.value]]),o(q,{modelValue:t.value,"onUpdate:modelValue":_[6]||(_[6]=s=>t.value=s),title:e.value===2?"修改":"添加"},{footer:a(()=>[v("span",se,[o(h,{onClick:_[5]||(_[5]=s=>t.value=!1)},{default:a(()=>[i("取 消")]),_:1}),o(h,{type:"primary",disabled:u.value,onClick:z},{default:a(()=>[i("确 定")]),_:1},8,["disabled"])])]),default:a(()=>[f((l(),p(W,{ref_key:"userFormRef",ref:E,model:b,"label-width":"80px"},{default:a(()=>[o(V,{prop:"username",label:"账号"},{default:a(()=>[o(C,{modelValue:b.username,"onUpdate:modelValue":_[0]||(_[0]=s=>b.username=s)},null,8,["modelValue"])]),_:1}),o(V,{prop:"password",label:"密码"},{default:a(()=>[o(C,{modelValue:b.password,"onUpdate:modelValue":_[1]||(_[1]=s=>b.password=s)},null,8,["modelValue"])]),_:1}),o(V,{prop:"role",label:"角色"},{default:a(()=>[o(H,{modelValue:b.role,"onUpdate:modelValue":_[2]||(_[2]=s=>b.role=s),placeholder:"请选择",class:"w-full",onFocus:U},{default:a(()=>[(l(!0),m(A,null,M(d,s=>(l(),p(j,{key:s.name,label:s.name,value:s.name},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),o(V,{prop:"email",label:"邮箱"},{default:a(()=>[o(C,{modelValue:b.email,"onUpdate:modelValue":_[3]||(_[3]=s=>b.email=s)},null,8,["modelValue"])]),_:1}),o(V,{prop:"introduction",label:"介绍"},{default:a(()=>[o(C,{modelValue:b.introduction,"onUpdate:modelValue":_[4]||(_[4]=s=>b.introduction=s)},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])),[[N,u.value]])]),_:1},8,["modelValue","title"])])}}},_e=k(re,[["__scopeId","data-v-828d44c8"]]),ce={class:"mt-20"},ie={__name:"Debounce",setup(r){const e=F(10),t=u=>{u?e.value+=u:e.value++},c=u=>{u?e.value-=u:e.value--};return(u,E)=>{const d=y("el-button"),n=x("debounce");return l(),m("div",ce,[v("h1",null,B(e.value),1),f((l(),p(d,{type:"primary"},{default:a(()=>[i("-1 (500)")]),_:1})),[[n,c]]),f((l(),p(d,{type:"primary"},{default:a(()=>[i("-10 (600)")]),_:1})),[[n,[c,700,10]]]),f((l(),p(d,{type:"primary"},{default:a(()=>[i("+10 (1000)")]),_:1})),[[n,[t,1e3,10]]]),f((l(),p(d,{type:"primary"},{default:a(()=>[i("+1 (100)")]),_:1})),[[n,[t,200]]])])}}},de={class:"mt-20"},pe={__name:"Throttle",setup(r){const e=F(20),t=u=>{u?e.value+=u:e.value++},c=u=>{u?e.value-=u:e.value--};return(u,E)=>{const d=y("el-button"),n=x("throttle");return l(),m("div",de,[v("h1",null,B(e.value),1),f((l(),p(d,{type:"primary"},{default:a(()=>[i("-1 (500)")]),_:1})),[[n,c]]),f((l(),p(d,{type:"primary"},{default:a(()=>[i("-10 (700)")]),_:1})),[[n,[c,700,10]]]),f((l(),p(d,{type:"primary"},{default:a(()=>[i("+10 (1000)")]),_:1})),[[n,[t,1e3,10]]]),f((l(),p(d,{type:"primary"},{default:a(()=>[i("+1 (200)")]),_:1})),[[n,[t,200]]])])}}},me={},fe={class:"mt-20"},ve=v("span",null,"显示按钮1",-1),be=v("hr",null,null,-1),he=v("hr",null,null,-1),ye=v("span",null,"显示按钮2",-1),ge=v("hr",null,null,-1),Ee=v("hr",null,null,-1),Fe=v("span",null,"隐藏按钮3",-1);function De(r,e){const t=x("permission");return l(),m("div",fe,[ve,f((l(),m("button",null,[i("按钮1")])),[[t,"admin"]]),be,he,ye,f((l(),m("button",null,[i("按钮2")])),[[t,"xueyue"]]),ge,Ee,Fe,f((l(),m("button",null,[i("按钮3")])),[[t,"editor"]])])}const xe=k(me,[["render",De]]),$e={class:"mt-20"},Be=v("h1",null,"禁用浏览器缓存，用低速网络查看效果",-1),Ve="https://www.xyob.cn/cube/",ke={__name:"LazyLoad",setup(r){const e=F([]);for(let t=1;t<=6;t++)e.value.push(`${Ve}cube0${t}.bmp`);return(t,c)=>{const u=x("lazyLoad");return l(),m("div",$e,[Be,(l(!0),m(A,null,M(e.value,E=>f((l(),m("img",{key:E,width:"600",height:"400"})),[[u,E]])),128))])}}},Ce={class:"mt-20"},we={width:"300",height:"300"},Ae={class:"box"},Me={__name:"WaterMarker",setup(r){const e=w({text:"雪月欧巴的水印",color:"skyblue"});return(t,c)=>{const u=x("waterMarker");return l(),m("div",Ce,[f(v("img",we,null,512),[[u,e]]),f(v("span",Ae,null,512),[[u]])])}}},Le=k(Me,[["__scopeId","data-v-7ce0947f"]]),Ue={class:"mt-20 w-full button"},Re="可拖拽的按钮",Ne={__name:"Draggable",setup(r){return(e,t)=>{const c=x("draggable");return l(),m("div",Ue,[f((l(),m("button",null,[i(B(Re))])),[[c]])])}}},Te=k(Ne,[["__scopeId","data-v-0f017e6e"]]),ze={class:"mt-20"},Ie={__name:"Copy",setup(r){const e=F("雪月"),t=F("");return(c,u)=>{const E=x("copy");return l(),m("div",ze,[f(v("input",{"onUpdate:modelValue":u[0]||(u[0]=d=>e.value=d),placeholder:"请输入内容"},null,512),[[Q,e.value]]),f((l(),m("button",null,[i("复制")])),[[E,e.value]]),v("h2",null,B(t.value),1)])}}},Se={class:"showDirective"},je={__name:"index",setup(r){const e=F("debounce"),t=[{label:"防抖",name:"debounce"},{label:"节流",name:"throttle"},{label:"权限",name:"permission"},{label:"懒加载",name:"lazyLoad"},{label:"水印",name:"waterMarker"},{label:"拖拽",name:"draggable"},{label:"复制",name:"copy"}];return(c,u)=>{const E=y("el-tab-pane"),d=y("el-tabs");return l(),m("div",Se,[o(d,{modelValue:e.value,"onUpdate:modelValue":u[0]||(u[0]=n=>e.value=n),"tab-position":"left"},{default:a(()=>[(l(),m(A,null,M(t,n=>o(E,{key:n.name,label:n.label,name:n.name},{default:a(()=>[i(B(n.label+"指令"),1)]),_:2},1032,["label","name"])),64)),e.value==="debounce"?(l(),p(ie,{key:0})):$("",!0),e.value==="throttle"?(l(),p(pe,{key:1})):$("",!0),e.value==="permission"?(l(),p(xe,{key:2})):$("",!0),e.value==="lazyLoad"?(l(),p(ke,{key:3})):$("",!0),e.value==="waterMarker"?(l(),p(Le,{key:4})):$("",!0),e.value==="draggable"?(l(),p(Te,{key:5})):$("",!0),e.value==="copy"?(l(),p(Ie,{key:6})):$("",!0)]),_:1},8,["modelValue"])])}}},He={class:"setting-view"},We={__name:"index",setup(r){const e=F("user"),t=[{label:"用户管理",name:"user"},{label:"指令管理",name:"directive"}];return(c,u)=>{const E=y("el-tab-pane"),d=y("el-tabs");return l(),m("div",He,[o(d,{modelValue:e.value,"onUpdate:modelValue":u[0]||(u[0]=n=>e.value=n)},{default:a(()=>[(l(),m(A,null,M(t,n=>o(E,{key:n.name,label:n.label,name:n.name},null,8,["label","name"])),64))]),_:1},8,["modelValue"]),e.value==="user"?(l(),p(_e,{key:0})):(l(),p(je,{key:1}))])}}},Pe=k(We,[["__scopeId","data-v-7a373bfc"]]);export{Pe as default};
