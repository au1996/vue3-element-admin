import{r as E,Q as T,a7 as g,af as V,h as m,i as t,j as v,H as b,M as n,G as u,K as d,u as w,E as p,L as A,N as te,F as I,a1 as P,a9 as ae,I as B}from"./vue-DMw5Nt_d.js";import{a as le,b as ne}from"./index-C8Gekrv5.js";import{_ as L}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{b as ue,E as oe}from"./element-plus-7YaSf0MG.js";import"./axios-B7hLYxo8.js";function se({getTableParams:r,setTableData:e,request:o,autoRequest:_=!0,page:s=1,pageSize:y=10,pageName:i="page",pageSizeName:c="page_size"}){const z=E(!1),M=E([]),R=r(),$=T({total:0,page:s,pageSize:y,pageChange:async F=>{await h(F)},sizeChange(F){$.page=1,$.pageSize=F,h()}}),h=async(F,j)=>{const f={...R,...r(),...j};$.page=F||$.page,f[i]=$.page,f[c]=$.pageSize,z.value=!0,await o(f).then(N=>{e(N,M)}).finally(()=>{z.value=!1})};return _&&h(),{tableLoading:z,tableData:M,pagination:$,getTableData:h}}const re=function(r,e){if(e=e||"yyyy-MM-dd hh:mm:ss",r===null||typeof r>"u"||r==="")return null;r=new Date(r);var o={"M+":r.getMonth()+1,"d+":r.getDate(),"h+":r.getHours(),"m+":r.getMinutes(),"s+":r.getSeconds(),"q+":Math.floor((r.getMonth()+3)/3),S:r.getMilliseconds()};/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(r.getFullYear()+"").substr(4-RegExp.$1.length)));for(var _ in o)new RegExp("("+_+")").test(e)&&(e=e.replace(RegExp.$1,RegExp.$1.length===1?o[_]:("00"+o[_]).substr((""+o[_]).length)));return e},ie={class:"user-manage-view"},ce={class:"header-box"},_e=["src"],de={class:"dialog-footer"},H="add",Y="update",pe={__name:"User",setup(r){const e=T({keyword:""}),o=()=>e,_=(D,l)=>{const[C,k]=D;C||(i.total=k.total,l.value=k.data)},{tableLoading:s,tableData:y,pagination:i,getTableData:c}=se({getTableParams:o,setTableData:_,request:ne,pageSize:2}),z=()=>{c(1)},M=E([]),R=async()=>{const[D,l]=await le();D||(M.value=l.data)};R();const $=D=>{let l=D;return M.value.forEach(C=>{C.id===D&&(l=C.name)}),l},h=T({type:H,visible:!1}),F=E(!1),j=E(null),f=T({username:"",password:"",role:"",email:"",introduction:""}),N=(D,l)=>{if(h.type=D,h.visible=!0,h.type===Y)for(const C in l)f[C]=l[C];else for(const C in f)f[C]=""},W=()=>{F.value=!0,h.type===H&&y.value.push(f),setTimeout(()=>{F.value=!1,h.visible=!1},800)},G=D=>{ue.confirm(`确定删除 ${D.username} ？`,"提示",{confirmButtonText:"确认",cancelButtonText:"取消",type:"warning"}).then(()=>{oe({type:"warning",message:"暂无权限删除"})}).catch(()=>{})};return(D,l)=>{const C=g("Icon"),k=g("el-button"),U=g("el-input"),x=g("el-table-column"),K=g("el-table"),O=g("el-pagination"),S=g("el-form-item"),Q=g("el-option"),J=g("el-select"),X=g("el-form"),Z=g("el-dialog"),q=V("loading");return t(),m("div",ie,[v("div",ce,[n(U,{modelValue:e.keyword,"onUpdate:modelValue":l[0]||(l[0]=a=>e.keyword=a),class:"left",placeholder:"请输入关键词搜索",clearable:"",onChange:z},{append:u(()=>[n(k,{onClick:z},{default:u(()=>[n(C,{name:"Search"})]),_:1})]),_:1},8,["modelValue"]),n(k,{type:"primary",onClick:l[1]||(l[1]=a=>N("add"))},{default:u(()=>[d("添加用户")]),_:1})]),b((t(),p(K,{border:"",data:w(y)},{default:u(()=>[n(x,{prop:"username",label:"账号"}),n(x,{prop:"password",label:"密码"}),n(x,{prop:"role",label:"角色"},{default:u(({row:a})=>[d(A($(a.role)),1)]),_:1}),n(x,{prop:"email",label:"邮箱","min-width":"120"}),n(x,{prop:"introduction",label:"介绍"}),n(x,{prop:"avatar",label:"头像"},{default:u(({row:a})=>[b(v("img",{src:a.avatar,width:"40",height:"40"},null,8,_e),[[te,a.avatar]])]),_:1}),n(x,{prop:"createTime",label:"创建时间","min-width":"160"},{default:u(({row:a})=>[d(A(w(re)(a.createTime)),1)]),_:1}),n(x,{label:"操作",width:"200"},{default:u(({row:a})=>[n(k,{type:"primary",size:"small",onClick:ee=>N(Y,a)},{default:u(()=>[d("修改")]),_:2},1032,["onClick"]),n(k,{type:"danger",size:"small",onClick:ee=>G(a)},{default:u(()=>[d("删除")]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"])),[[q,w(s)]]),n(O,{"current-page":w(i).page,"onUpdate:currentPage":l[2]||(l[2]=a=>w(i).page=a),"page-size":w(i).pageSize,"onUpdate:pageSize":l[3]||(l[3]=a=>w(i).pageSize=a),total:w(i).total,"page-sizes":[2,5,10,20],layout:"total, slot, prev, pager, next, sizes, jumper",class:"default",onCurrentChange:w(i).pageChange,onSizeChange:w(i).sizeChange},null,8,["current-page","page-size","total","onCurrentChange","onSizeChange"]),n(Z,{modelValue:h.visible,"onUpdate:modelValue":l[10]||(l[10]=a=>h.visible=a),title:h.type===Y?"修改":"添加"},{footer:u(()=>[v("span",de,[n(k,{onClick:l[9]||(l[9]=a=>h.visible=!1)},{default:u(()=>[d("取 消")]),_:1}),n(k,{type:"primary",disabled:F.value,onClick:W},{default:u(()=>[d("确 定")]),_:1},8,["disabled"])])]),default:u(()=>[b((t(),p(X,{ref_key:"userFormRef",ref:j,model:f,"label-width":"80px"},{default:u(()=>[n(S,{prop:"username",label:"账号"},{default:u(()=>[n(U,{modelValue:f.username,"onUpdate:modelValue":l[4]||(l[4]=a=>f.username=a)},null,8,["modelValue"])]),_:1}),n(S,{prop:"password",label:"密码"},{default:u(()=>[n(U,{modelValue:f.password,"onUpdate:modelValue":l[5]||(l[5]=a=>f.password=a)},null,8,["modelValue"])]),_:1}),n(S,{prop:"role",label:"角色"},{default:u(()=>[n(J,{modelValue:f.role,"onUpdate:modelValue":l[6]||(l[6]=a=>f.role=a),placeholder:"请选择",class:"w-full",onFocus:R},{default:u(()=>[(t(!0),m(I,null,P(M.value,a=>(t(),p(Q,{key:a.name,label:a.name,value:a.name},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),n(S,{prop:"email",label:"邮箱"},{default:u(()=>[n(U,{modelValue:f.email,"onUpdate:modelValue":l[7]||(l[7]=a=>f.email=a)},null,8,["modelValue"])]),_:1}),n(S,{prop:"introduction",label:"介绍"},{default:u(()=>[n(U,{modelValue:f.introduction,"onUpdate:modelValue":l[8]||(l[8]=a=>f.introduction=a)},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])),[[q,F.value]])]),_:1},8,["modelValue","title"])])}}},me=L(pe,[["__scopeId","data-v-b0643193"]]),be={class:"mt-20"},fe={__name:"Debounce",setup(r){const e=E(10),o=s=>{s?e.value+=s:e.value++},_=s=>{s?e.value-=s:e.value--};return(s,y)=>{const i=g("el-button"),c=V("debounce");return t(),m("div",be,[v("h1",null,A(e.value),1),b((t(),p(i,{type:"primary"},{default:u(()=>[d("-1 (500)")]),_:1})),[[c,_]]),b((t(),p(i,{type:"primary"},{default:u(()=>[d("-10 (600)")]),_:1})),[[c,[_,700,10]]]),b((t(),p(i,{type:"primary"},{default:u(()=>[d("+10 (1000)")]),_:1})),[[c,[o,1e3,10]]]),b((t(),p(i,{type:"primary"},{default:u(()=>[d("+1 (100)")]),_:1})),[[c,[o,200]]])])}}},ge={class:"mt-20"},ve={__name:"Throttle",setup(r){const e=E(20),o=s=>{s?e.value+=s:e.value++},_=s=>{s?e.value-=s:e.value--};return(s,y)=>{const i=g("el-button"),c=V("throttle");return t(),m("div",ge,[v("h1",null,A(e.value),1),b((t(),p(i,{type:"primary"},{default:u(()=>[d("-1 (500)")]),_:1})),[[c,_]]),b((t(),p(i,{type:"primary"},{default:u(()=>[d("-10 (700)")]),_:1})),[[c,[_,700,10]]]),b((t(),p(i,{type:"primary"},{default:u(()=>[d("+10 (1000)")]),_:1})),[[c,[o,1e3,10]]]),b((t(),p(i,{type:"primary"},{default:u(()=>[d("+1 (200)")]),_:1})),[[c,[o,200]]])])}}},ye={},he={class:"mt-20"},Ee=v("span",null,"显示按钮1",-1),De=v("hr",null,null,-1),Ce=v("hr",null,null,-1),Fe=v("span",null,"显示按钮2",-1),we=v("hr",null,null,-1),$e=v("hr",null,null,-1),ke=v("span",null,"隐藏按钮3",-1);function xe(r,e){const o=V("permission");return t(),m("div",he,[Ee,b((t(),m("button",null,[d("按钮1")])),[[o,"admin"]]),De,Ce,Fe,b((t(),m("button",null,[d("按钮2")])),[[o,"xueyue"]]),we,$e,ke,b((t(),m("button",null,[d("按钮3")])),[[o,"editor"]])])}const Ve=L(ye,[["render",xe]]),Be={class:"mt-20"},Ae=v("h1",null,"禁用浏览器缓存，用低速网络查看效果",-1),ze="https://www.xyob.cn/cube/",Me={__name:"LazyLoad",setup(r){const e=E([]);for(let o=1;o<=6;o++)e.value.push(`${ze}cube0${o}.bmp`);return(o,_)=>{const s=V("lazyLoad");return t(),m("div",Be,[Ae,(t(!0),m(I,null,P(e.value,y=>b((t(),m("img",{key:y,width:"600",height:"400"})),[[s,y]])),128))])}}},Ue={class:"mt-20"},Se={width:"300",height:"300"},Te={class:"box"},Le={__name:"WaterMarker",setup(r){const e=T({text:"雪月欧巴的水印",color:"skyblue"});return(o,_)=>{const s=V("waterMarker");return t(),m("div",Ue,[b(v("img",Se,null,512),[[s,e]]),b(v("span",Te,null,512),[[s]])])}}},Re=L(Le,[["__scopeId","data-v-7ce0947f"]]),Ne={class:"mt-20 w-full button"},Ie="可拖拽的按钮",Pe={__name:"Draggable",setup(r){return(e,o)=>{const _=V("draggable");return t(),m("div",Ne,[b((t(),m("button",null,[d(A(Ie))])),[[_]])])}}},je=L(Pe,[["__scopeId","data-v-0f017e6e"]]),Ye={class:"mt-20"},qe={__name:"Copy",setup(r){const e=E("雪月"),o=E("");return(_,s)=>{const y=V("copy");return t(),m("div",Ye,[b(v("input",{"onUpdate:modelValue":s[0]||(s[0]=i=>e.value=i),placeholder:"请输入内容"},null,512),[[ae,e.value]]),b((t(),m("button",null,[d("复制")])),[[y,e.value]]),v("h2",null,A(o.value),1)])}}},He={class:"showDirective"},We={__name:"index",setup(r){const e=E("debounce"),o=[{label:"防抖",name:"debounce"},{label:"节流",name:"throttle"},{label:"权限",name:"permission"},{label:"懒加载",name:"lazyLoad"},{label:"水印",name:"waterMarker"},{label:"拖拽",name:"draggable"},{label:"复制",name:"copy"}];return(_,s)=>{const y=g("el-tab-pane"),i=g("el-tabs");return t(),m("div",He,[n(i,{modelValue:e.value,"onUpdate:modelValue":s[0]||(s[0]=c=>e.value=c),"tab-position":"left"},{default:u(()=>[(t(),m(I,null,P(o,c=>n(y,{key:c.name,label:c.label,name:c.name},{default:u(()=>[d(A(c.label+"指令"),1)]),_:2},1032,["label","name"])),64)),e.value==="debounce"?(t(),p(fe,{key:0})):B("",!0),e.value==="throttle"?(t(),p(ve,{key:1})):B("",!0),e.value==="permission"?(t(),p(Ve,{key:2})):B("",!0),e.value==="lazyLoad"?(t(),p(Me,{key:3})):B("",!0),e.value==="waterMarker"?(t(),p(Re,{key:4})):B("",!0),e.value==="draggable"?(t(),p(je,{key:5})):B("",!0),e.value==="copy"?(t(),p(qe,{key:6})):B("",!0)]),_:1},8,["modelValue"])])}}},Ge={class:"setting-view"},Ke={__name:"index",setup(r){const e=E("user"),o=[{label:"用户管理",name:"user"},{label:"指令管理",name:"directive"}];return(_,s)=>{const y=g("el-tab-pane"),i=g("el-tabs");return t(),m("div",Ge,[n(i,{modelValue:e.value,"onUpdate:modelValue":s[0]||(s[0]=c=>e.value=c)},{default:u(()=>[(t(),m(I,null,P(o,c=>n(y,{key:c.name,label:c.label,name:c.name},null,8,["label","name"])),64))]),_:1},8,["modelValue"]),e.value==="user"?(t(),p(me,{key:0})):(t(),p(We,{key:1}))])}}},et=L(Ke,[["__scopeId","data-v-7a373bfc"]]);export{et as default};
